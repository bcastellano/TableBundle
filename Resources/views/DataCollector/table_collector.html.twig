{% extends '@WebProfiler/Profiler/layout.html.twig' %}

{% block toolbar %}
    {% set icon %}
        <span class="icon">{{ include('JGMTableBundle:DataCollector:icon.html.twig') }}</span>
		<span class="sf-toolbar-value sf-toolbar-status">{{ collector.count }}</span>
		<span class="sf-toolbar-value">in {{ collector.duration }} ms</span>
    {% endset %}

    {% set text %}
		<div class="sf-toolbar-info-piece">
            <b>Tables</b>
            <span class="sf-toolbar-value sf-toolbar-status">{{ collector.count }}</span>
        </div>

        <div class="sf-toolbar-info-piece">
            <b>Build Time</b>
            <span>{{ collector.duration }} ms</span>
        </div>
		
		<div class="sf-toolbar-info-piece">
            <b>Memory Usage</b>
            <span>{{ collector.memory / 1024 / 1024 }} MB</span>
        </div>
    {% endset %}

    {{ include('@WebProfiler/Profiler/toolbar_item.html.twig', { link: true }) }}
{% endblock %}

{% block head %}
    {{ parent() }}
{% endblock %}

{% block menu %}
    <span class="label">
        <span class="icon">
			{{ include('JGMTableBundle:DataCollector:icon.html.twig') }}
		</span>
        <strong>Tables</strong>
		<span class="count"><span>{{ collector.count }}</span></span>
    </span>
{% endblock %}

{% block panel %}
    <h2>Tables</h2>
    <table>
        <tr>
            <th>Name of TableType</th>
			<th>Build Time</th>
			<th>Fetch data Time</th>
			<th>Render Time</th>
			<th>Sum</th>
        </tr>
		
		{% for name,data in collector.stopwatches %}
			<tr>
				<td>{{ name }}</td>
				<td>{{ data.build }} ms</td>
				<td>{{ data.data }} ms</td>
				<td>{{ data.view }} ms</td>
				<td>{{ data.sum }} ms</td>
			</tr>
		{% endfor %}
    </table>
{% endblock %}